{% extends 'app/base.html' %}

{% block content %}
<h2>Report Card</h2>

<div class="card p-4 mb-4">
  <h4>{{ student.first_name }} {{ student.last_name }}</h4>
  <p><strong>Roll Number:</strong> {{ student.roll_number }}</p>
  <p><strong>Class:</strong> {{ student.class_ref.name }} - {{ student.class_ref.section }}</p>
</div>

<table class="table table-bordered">
  <thead class="table-light">
    <tr>
      <th>Subject</th>
      <th>Marks Obtained</th>
      <th>Maximum Marks</th>
      <th>Comment</th>
    </tr>
  </thead>
  <tbody>
    {% for mark in marks %}
    <tr>
      <td>{{ mark.subject.name }}</td>
      <td>{{ mark.marks_obtained }}</td>
      <td>{{ mark.maximum_marks }}</td>
      <td>{{ mark.comment }}</td>
    </tr>
    {% endfor %}
  </tbody>
</table>

<div class="mt-3">
  <strong>Final Comment:</strong>
  <p>{{ final_comment.comment }}</p>
</div>

<div class="mt-3">
  <strong>Grade:</strong> {{ grade }}
</div>

<div class="mt-4">
  <button onclick="window.print()" class="btn btn-success">Print Report</button>
  <a href="{% url 'download_pdf' student.id %}" class="btn btn-primary">⬇️ Download PDF</a>
</div>
{% endblock %}
